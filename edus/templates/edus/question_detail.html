{% extends 'base.html' %}

{% block content %}

<h1> {{ question.title }} </h1>
<p> {{ question.content }} </p>

<ul>
    <li>date posted: {{ question.post_date }}</li>
    <li>Solution found: {{question.solution_found}}</li>
    <li> points: {{ question.points }} </li>
</ul>


<form action="{% url 'edus:upvote' question.pk %}" method="post">
{% csrf_token %}
<input type="submit" value="Upvote" />
</form>


<form action="{% url 'edus:downvote' question.pk %}" method="post">
{% csrf_token %}
<input type="submit" value="downvote" />
</form>

<h3> Replies </h3>



<!--could this be another template?-->

{% if question.reply_set.all %}
<ul>
{% for reply in question.reply_set.all %}

    <li> {{ reply.content }} </li>
    <li> {{ reply.points }} </li>
    <li> {{ reply.correct_answer }} </li>


</ul>

    <form action="{% url 'edus:upvote_reply' reply.pk %}" method="post">
    {% csrf_token %}
    <input type="submit" value="Upvote" />
    </form>


    <form action="{% url 'edus:downvote_reply' reply.pk %}" method="post">
    {% csrf_token %}
    <input type="submit" value="downvote" />
    </form>

    <!--this button should only be visible to the author-->
    <form action="{% url 'edus:correct_reply' reply.pk %}" method="post">
    {% csrf_token %}
    <input type="submit" value="correct_reply" />
    </form>

{% endfor %}



{% else %}
<h2> No replies yet </h2>

{% endif %}





{% endblock %}